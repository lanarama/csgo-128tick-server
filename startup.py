import os

OFFSET = 30

GSLT_TOKEN = [
  "D22601A38CCCFB03468431F896C1C5AF"
  "0D093984808DB12C9F4CE3BF3738231A",
  "8ED62AC638BDD4B35066033A35CA7E24",
  "9E3BF4A8ED1F2B8B4335580CD533DE91",
  "2FC0679E1F07D753BD5DB61C04374291",
  "A2C3B7CEC264E9EE1D36BDEFF26D24B8",
  "BC742307248F365636DC4C24E6EB7C5D",
  "F26992806383D37FF2A7FA7CB95438AA",
  "AAAEE865808E2E5E0A613E521A9FEA19",
  "7FBC94639559DB043971B2DA5C1E0C28",
  "0B01DA56E6E326BC794D1A3AC1C3CD41",
  "0647DF6EEE9317BB523149CD265BA8FD",
  "D9369B7A619982A4282356714BA33758",
  "BFEB63FB1BA3F146BA52D89815C9EC74",
  "E656C6B1AB7038C98E8423D3E002D382",
  "46F1ABA30B781C828697F29ACB12687A",
  "D8194B211FCEF03564F7614D6D2C67F8"
]

for i in range(len(GSLT_TOKEN)):
  print(f"starting csgo-{i}")
  os.system(" ".join([
    "docker run -d",
    f"-e CSGO_SERVERNAME=\"Lanarama Gameserver {i + OFFSET}\"",
    "-e CSGO_GAMEMODE=\"competitive\"",
    "-e CSGO_RCON_PASSWORD=\"lanarama123\"",
    f"-e CSGO_GSTL=\"{GSLT_TOKEN[i]}\"",
    "--network=servernet",
    f"--name=csgo-{i + OFFSET}",
    "lanarama/csgo:161021"
  ]))


for i in range(len(GSLT_TOKEN)):
  os.system(f"docker inspect csgo-{i + OFFSET} | jq '.[0].NetworkSettings.Networks.servernet.IPAddress' -r")
